<!-- vim: set encoding=utf8 fileencoding=utf8: -->
{% extends "in_session.html" %}
{% load i18n %}

{% block javascript %}
    <script type="text/javascript" src="/media/js/jquery-1.1.3.1.pack.js"></script>
    <script type="text/javascript" src="/media/js/jquery.tablesorter.js"></script>
{% endblock javascript %}

{% block menu %}
<p><a href="/logout/">{% trans "Log out" %}</a></p>
<p><a href="/learning/profile/">{% trans "My account" %}</a></p>
<p><a href="/learning/tdb/">{% trans "Dashboard" %}</a></p>
<p><a href="/coaching/">{% trans "Administration" %}</a></p>
{% endblock menu %}

{% block breadcrumb %}
<a href="/coaching/">{% trans "administration" %}</a>
&gt; {% trans "clients statistics" %}
{% endblock breadcrumb %}

{% block content %}
<div id="rightcol">
	<h2>{% trans "Filter" %}</h2>
    {% for filtre in liste_filtres %}
    <h3>{% trans "By " %}{{ filtre.title }}</h3>
	<ul>
        {% for item in filtre.valeurs %}
        {% if item.selected %}<li class="selected">{{ item.libel }}{% else %}<li><a href="?{{ item.url }}">{{ item.libel }}</a>{% endif %}</li>
		{% endfor %}
	</ul>	
    {% endfor %}
</div>

{% if liste_groupes %}
<h2>{% trans "Client statistics" %}</h2>
<script type="text/javascript">
    $(document).ready(function() {
        $("#lista").tablesorter({ widgets: ['zebra']});
        var c = [[0,0],[1,0]];
        $("#lista").trigger("sorton",[c]);
        return false;
})
</script>
	<table id="lista">
		<thead>
			<tr>
				<th>{% trans "Client" %}</th>
				<th>{% trans "Group" %}</th>
				<th style="text-align: center;">{% trans "# Courses" %}</th>
				<th style="text-align: center;">{% trans "# Modules" %}</th>
				<th style="text-align: center;">{% trans "# Logins" %}</th>
				<th style="text-align: center;">{% trans "# Connected Yesterday" %}</th>
			</tr>
		</thead>
		<tbody>
			{% for groupe in liste_groupes %}
            <tr>
				<td>{{ groupe.client }}</td>
				<td><a href="/coaching/lista/?groupe={{ groupe.id }}">{{ groupe.nom }}</a></td>
                <td style="text-align: center;">{{ groupe.nb_cours }}</td>
                <td style="text-align: center;">{{ groupe.nb_modules }}</td>
				<td style="text-align: center;">{{ groupe.nb_logins }}</td>
				<td style="text-align: center;">{{ groupe.hier }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
	{% else %}
	<p>{% trans "This list is empty" %}</p>
{% endif %}
{% endblock content %}
